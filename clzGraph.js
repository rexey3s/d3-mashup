var data = {
 nodes :[
    {
        "id": "Thing",
        "label": "Thing"
    },
    {
        "id": "Weapon",
        "label": "Weapon"
    },
    {
        "id": "Car",
        "label": "Car"
    },
    {
        "id": "PassengerAircraft",
        "label": "PassengerAircraft"
    },
    {
        "id": "NarrowBody",
        "label": "NarrowBody"
    },
    {
        "id": "WideBody",
        "label": "WideBody"
    },
    {
        "id": "RailWayTransport",
        "label": "RailWayTransport"
    },
    {
        "id": "LocomotiveUnit",
        "label": "LocomotiveUnit"
    },
    {
        "id": "FreightTrain",
        "label": "FreightTrain"
    },
    {
        "id": "PassengerTrain",
        "label": "PassengerTrain"
    },
    {
        "id": "OnRoadAndOffRoadVehicle",
        "label": "OnRoadAndOffRoadVehicle"
    },
    {
        "id": "Truck",
        "label": "Truck"
    },
    {
        "id": "Bike",
        "label": "Bike"
    },
    {
        "id": "Car",
        "label": "Car"
    },
    {
        "id": "Motorcycle",
        "label": "Motorcycle"
    },
    {
        "id": "Bus",
        "label": "Bus"
    },
    {
        "id": "Vessel",
        "label": "Vessel"
    },
    {
        "id": "HoverCraft",
        "label": "HoverCraft"
    },
    {
        "id": "FighterAircraft",
        "label": "FighterAircraft"
    },
    {
        "id": "Wagon",
        "label": "Wagon"
    },
    {
        "id": "FreightWagon",
        "label": "FreightWagon"
    },
    {
        "id": "PassengerWagon",
        "label": "PassengerWagon"
    },
    {
        "id": "Axile",
        "label": "Axile"
    },
    {
        "id": "Diesel",
        "label": "Diesel"
    },
    {
        "id": "RotorSystem",
        "label": "RotorSystem"
    },
    {
        "id": "Sprocket",
        "label": "Sprocket"
    },
    {
        "id": "Engine",
        "label": "Engine"
    },
    {
        "id": "Steam",
        "label": "Steam"
    },
    {
        "id": "ICE",
        "label": "ICE"
    },
    {
        "id": "ElectricEngine",
        "label": "ElectricEngine"
    },
    {
        "id": "Diesel",
        "label": "Diesel"
    },
    {
        "id": "Wheel",
        "label": "Wheel"
    },
    {
        "id": "Passenger",
        "label": "Passenger"
    },
    {
        "id": "CargoAircraft",
        "label": "CargoAircraft"
    },
    {
        "id": "Pilot",
        "label": "Pilot"
    },
    {
        "id": "Cargo",
        "label": "Cargo"
    },
    {
        "id": "More_Cargo",
        "label": "More_Cargo"
    },
    {
        "id": "Aircraft",
        "label": "Aircraft"
    },
    {
        "id": "WingAircraft",
        "label": "WingAircraft"
    },
    {
        "id": "Helicopter",
        "label": "Helicopter"
    },
    {
        "id": "FighterAircraft",
        "label": "FighterAircraft"
    },
    {
        "id": "CargoAircraft",
        "label": "CargoAircraft"
    },
    {
        "id": "PassengerAircraft",
        "label": "PassengerAircraft"
    },
    {
        "id": "NarrowBody",
        "label": "NarrowBody"
    },
    {
        "id": "WideBody",
        "label": "WideBody"
    },
    {
        "id": "FixedWing",
        "label": "FixedWing"
    },
    {
        "id": "ShipAndVessel",
        "label": "ShipAndVessel"
    },
    {
        "id": "Boat",
        "label": "Boat"
    },
    {
        "id": "Vessel",
        "label": "Vessel"
    },
    {
        "id": "Cruiser",
        "label": "Cruiser"
    },
    {
        "id": "Driver",
        "label": "Driver"
    },
    {
        "id": "Vehicle",
        "label": "Vehicle"
    },
    {
        "id": "ShipAndVessel",
        "label": "ShipAndVessel"
    },
    {
        "id": "Boat",
        "label": "Boat"
    },
    {
        "id": "Vessel",
        "label": "Vessel"
    },
    {
        "id": "Cruiser",
        "label": "Cruiser"
    },
    {
        "id": "Aircraft",
        "label": "Aircraft"
    },
    {
        "id": "WingAircraft",
        "label": "WingAircraft"
    },
    {
        "id": "Helicopter",
        "label": "Helicopter"
    },
    {
        "id": "FighterAircraft",
        "label": "FighterAircraft"
    },
    {
        "id": "CargoAircraft",
        "label": "CargoAircraft"
    },
    {
        "id": "PassengerAircraft",
        "label": "PassengerAircraft"
    },
    {
        "id": "NarrowBody",
        "label": "NarrowBody"
    },
    {
        "id": "WideBody",
        "label": "WideBody"
    },
    {
        "id": "OnRoadAndOffRoadVehicle",
        "label": "OnRoadAndOffRoadVehicle"
    },
    {
        "id": "Truck",
        "label": "Truck"
    },
    {
        "id": "Bike",
        "label": "Bike"
    },
    {
        "id": "Car",
        "label": "Car"
    },
    {
        "id": "Motorcycle",
        "label": "Motorcycle"
    },
    {
        "id": "Bus",
        "label": "Bus"
    },
    {
        "id": "RailWayTransport",
        "label": "RailWayTransport"
    },
    {
        "id": "LocomotiveUnit",
        "label": "LocomotiveUnit"
    },
    {
        "id": "FreightTrain",
        "label": "FreightTrain"
    },
    {
        "id": "PassengerTrain",
        "label": "PassengerTrain"
    },
    {
        "id": "Wing",
        "label": "Wing"
    },
    {
        "id": "FixedWing",
        "label": "FixedWing"
    },
    {
        "id": "People",
        "label": "People"
    },
    {
        "id": "Pilot",
        "label": "Pilot"
    },
    {
        "id": "Passenger",
        "label": "Passenger"
    },
    {
        "id": "Driver",
        "label": "Driver"
    },
    {
        "id": "VehicleComponent",
        "label": "VehicleComponent"
    },
    {
        "id": "Wing",
        "label": "Wing"
    },
    {
        "id": "FixedWing",
        "label": "FixedWing"
    },
    {
        "id": "Wagon",
        "label": "Wagon"
    },
    {
        "id": "FreightWagon",
        "label": "FreightWagon"
    },
    {
        "id": "PassengerWagon",
        "label": "PassengerWagon"
    },
    {
        "id": "Wheel",
        "label": "Wheel"
    },
    {
        "id": "Sprocket",
        "label": "Sprocket"
    },
    {
        "id": "RotorSystem",
        "label": "RotorSystem"
    },
    {
        "id": "Engine",
        "label": "Engine"
    },
    {
        "id": "Steam",
        "label": "Steam"
    },
    {
        "id": "ICE",
        "label": "ICE"
    },
    {
        "id": "ElectricEngine",
        "label": "ElectricEngine"
    },
    {
        "id": "Diesel",
        "label": "Diesel"
    },
    {
        "id": "Weapon",
        "label": "Weapon"
    },
    {
        "id": "Rotor",
        "label": "Rotor"
    },
    {
        "id": "Body",
        "label": "Body"
    },
    {
        "id": "Axile",
        "label": "Axile"
    }
],
edges:[
    {
        "start": "PassengerAircraft",
        "end": "NarrowBody",
        "label": "has subClass"
    },
    {
        "start": "PassengerAircraft",
        "end": "WideBody",
        "label": "has subClass"
    },
    {
        "start": "RailWayTransport",
        "end": "LocomotiveUnit",
        "label": "has subClass"
    },
    {
        "start": "RailWayTransport",
        "end": "FreightTrain",
        "label": "has subClass"
    },
    {
        "start": "RailWayTransport",
        "end": "PassengerTrain",
        "label": "has subClass"
    },
    {
        "start": "OnRoadAndOffRoadVehicle",
        "end": "Truck",
        "label": "has subClass"
    },
    {
        "start": "OnRoadAndOffRoadVehicle",
        "end": "Bike",
        "label": "has subClass"
    },
    {
        "start": "OnRoadAndOffRoadVehicle",
        "end": "Car",
        "label": "has subClass"
    },
    {
        "start": "OnRoadAndOffRoadVehicle",
        "end": "Motorcycle",
        "label": "has subClass"
    },
    {
        "start": "OnRoadAndOffRoadVehicle",
        "end": "Bus",
        "label": "has subClass"
    },
    {
        "start": "Thing",
        "end": "HoverCraft",
        "label": "has subClass"
    },
    {
        "start": "Wagon",
        "end": "FreightWagon",
        "label": "has subClass"
    },
    {
        "start": "Wagon",
        "end": "PassengerWagon",
        "label": "has subClass"
    },
    {
        "start": "Engine",
        "end": "Steam",
        "label": "has subClass"
    },
    {
        "start": "Engine",
        "end": "ICE",
        "label": "has subClass"
    },
    {
        "start": "Engine",
        "end": "ElectricEngine",
        "label": "has subClass"
    },
    {
        "start": "Engine",
        "end": "Diesel",
        "label": "has subClass"
    },
    {
        "start": "Thing",
        "end": "Cargo",
        "label": "has subClass"
    },
    {
        "start": "Cargo",
        "end": "More_Cargo",
        "label": "has subClass"
    },
    {
        "start": "Aircraft",
        "end": "WingAircraft",
        "label": "has subClass"
    },
    {
        "start": "Aircraft",
        "end": "Helicopter",
        "label": "has subClass"
    },
    {
        "start": "Aircraft",
        "end": "FighterAircraft",
        "label": "has subClass"
    },
    {
        "start": "Aircraft",
        "end": "CargoAircraft",
        "label": "has subClass"
    },
    {
        "start": "Aircraft",
        "end": "PassengerAircraft",
        "label": "has subClass"
    },
    {
        "start": "PassengerAircraft",
        "end": "NarrowBody",
        "label": "has subClass"
    },
    {
        "start": "PassengerAircraft",
        "end": "WideBody",
        "label": "has subClass"
    },
    {
        "start": "ShipAndVessel",
        "end": "Boat",
        "label": "has subClass"
    },
    {
        "start": "ShipAndVessel",
        "end": "Vessel",
        "label": "has subClass"
    },
    {
        "start": "ShipAndVessel",
        "end": "Cruiser",
        "label": "has subClass"
    },
    {
        "start": "Thing",
        "end": "Vehicle",
        "label": "has subClass"
    },
    {
        "start": "Vehicle",
        "end": "ShipAndVessel",
        "label": "has subClass"
    },
    {
        "start": "ShipAndVessel",
        "end": "Boat",
        "label": "has subClass"
    },
    {
        "start": "ShipAndVessel",
        "end": "Vessel",
        "label": "has subClass"
    },
    {
        "start": "ShipAndVessel",
        "end": "Cruiser",
        "label": "has subClass"
    },
    {
        "start": "Vehicle",
        "end": "Aircraft",
        "label": "has subClass"
    },
    {
        "start": "Aircraft",
        "end": "WingAircraft",
        "label": "has subClass"
    },
    {
        "start": "Aircraft",
        "end": "Helicopter",
        "label": "has subClass"
    },
    {
        "start": "Aircraft",
        "end": "FighterAircraft",
        "label": "has subClass"
    },
    {
        "start": "Aircraft",
        "end": "CargoAircraft",
        "label": "has subClass"
    },
    {
        "start": "Aircraft",
        "end": "PassengerAircraft",
        "label": "has subClass"
    },
    {
        "start": "PassengerAircraft",
        "end": "NarrowBody",
        "label": "has subClass"
    },
    {
        "start": "PassengerAircraft",
        "end": "WideBody",
        "label": "has subClass"
    },
    {
        "start": "Vehicle",
        "end": "OnRoadAndOffRoadVehicle",
        "label": "has subClass"
    },
    {
        "start": "OnRoadAndOffRoadVehicle",
        "end": "Truck",
        "label": "has subClass"
    },
    {
        "start": "OnRoadAndOffRoadVehicle",
        "end": "Bike",
        "label": "has subClass"
    },
    {
        "start": "OnRoadAndOffRoadVehicle",
        "end": "Car",
        "label": "has subClass"
    },
    {
        "start": "OnRoadAndOffRoadVehicle",
        "end": "Motorcycle",
        "label": "has subClass"
    },
    {
        "start": "OnRoadAndOffRoadVehicle",
        "end": "Bus",
        "label": "has subClass"
    },
    {
        "start": "Vehicle",
        "end": "RailWayTransport",
        "label": "has subClass"
    },
    {
        "start": "RailWayTransport",
        "end": "LocomotiveUnit",
        "label": "has subClass"
    },
    {
        "start": "RailWayTransport",
        "end": "FreightTrain",
        "label": "has subClass"
    },
    {
        "start": "RailWayTransport",
        "end": "PassengerTrain",
        "label": "has subClass"
    },
    {
        "start": "Wing",
        "end": "FixedWing",
        "label": "has subClass"
    },
    {
        "start": "Thing",
        "end": "People",
        "label": "has subClass"
    },
    {
        "start": "People",
        "end": "Pilot",
        "label": "has subClass"
    },
    {
        "start": "People",
        "end": "Passenger",
        "label": "has subClass"
    },
    {
        "start": "People",
        "end": "Driver",
        "label": "has subClass"
    },
    {
        "start": "Thing",
        "end": "VehicleComponent",
        "label": "has subClass"
    },
    {
        "start": "VehicleComponent",
        "end": "Wing",
        "label": "has subClass"
    },
    {
        "start": "Wing",
        "end": "FixedWing",
        "label": "has subClass"
    },
    {
        "start": "VehicleComponent",
        "end": "Wagon",
        "label": "has subClass"
    },
    {
        "start": "Wagon",
        "end": "FreightWagon",
        "label": "has subClass"
    },
    {
        "start": "Wagon",
        "end": "PassengerWagon",
        "label": "has subClass"
    },
    {
        "start": "VehicleComponent",
        "end": "Wheel",
        "label": "has subClass"
    },
    {
        "start": "VehicleComponent",
        "end": "Sprocket",
        "label": "has subClass"
    },
    {
        "start": "VehicleComponent",
        "end": "RotorSystem",
        "label": "has subClass"
    },
    {
        "start": "VehicleComponent",
        "end": "Engine",
        "label": "has subClass"
    },
    {
        "start": "Engine",
        "end": "Steam",
        "label": "has subClass"
    },
    {
        "start": "Engine",
        "end": "ICE",
        "label": "has subClass"
    },
    {
        "start": "Engine",
        "end": "ElectricEngine",
        "label": "has subClass"
    },
    {
        "start": "Engine",
        "end": "Diesel",
        "label": "has subClass"
    },
    {
        "start": "VehicleComponent",
        "end": "Weapon",
        "label": "has subClass"
    },
    {
        "start": "VehicleComponent",
        "end": "Rotor",
        "label": "has subClass"
    },
    {
        "start": "VehicleComponent",
        "end": "Body",
        "label": "has subClass"
    },
    {
        "start": "VehicleComponent",
        "end": "Axile",
        "label": "has subClass"
    }
]}
var data3 = {
    "nodes": [
        {
            "id": "Aircraft",
            "label": "Aircraft",
            "type": "Class"
        },
        {
            "id": "Weapon",
            "label": "Weapon",
            "type": "Class"
        },
        {
            "id": "FighterAircraft",
            "label": "FighterAircraft",
            "type": "Class"
        },
        {
            "id": "FixedWing",
            "label": "FixedWing",
            "type": "Class"
        },
        {
            "id": "WingAircraft",
            "label": "WingAircraft",
            "type": "Class"
        }
    ],
    "edges": [
        {
            "start": "Aircraft",
            "end": "Weapon",
            "label": "canCarry"
        },
        {
            "start": "Weapon",
            "end": "FighterAircraft",
            "label": "maybe a"
        },
        {
            "start": "Aircraft",
            "end": "FixedWing",
            "label": "hasParts"
        },
        {
            "start": "FixedWing",
            "end": "WingAircraft",
            "label": "maybe a"
        }
    ]
}
var data = {
    "data": {
        "nodes": [
            {
                "id": "Vehicle",
                "label": "Vehicle"
            },
            {
                "id": "\"OnRoadOrOffRoad\"^^string",
                "label": "\"OnRoadOrOffRoad\"^^string"
            },
            {
                "id": "OnRoadAndOffRoadVehicle",
                "label": "OnRoadAndOffRoadVehicle"
            },
            {
                "id": "\"Sky\"^^string",
                "label": "\"Sky\"^^string"
            },
            {
                "id": "Aircraft",
                "label": "Aircraft"
            }
        ],
        "edges": [
            {
                "start": "Vehicle",
                "end": "\"OnRoadOrOffRoad\"^^string",
                "label": "canMoveOnOrIn"
            },
            {
                "start": "\"OnRoadOrOffRoad\"^^string",
                "end": "OnRoadAndOffRoadVehicle",
                "label": "maybe a"
            },
            {
                "start": "Vehicle",
                "end": "\"Sky\"^^string",
                "label": "canMoveOnOrIn"
            },
            {
                "start": "\"Sky\"^^string",
                "end": "Aircraft",
                "label": "maybe a"
            }
        ]
    },
    "object": {
        "nodes": [
            {
                "id": "Vehicle",
                "label": "Vehicle",
                "type": "Class"
            }
        ],
        "edges": []
    }
}


        console.log(data3);
        var g = new dagreD3.graphlib.Graph()
            .setGraph({})
            .setDefaultEdgeLabel(function () { return {}; });

        data.data.nodes.forEach(function (v) {
            g.setNode(v.id, {label: v.label});
        });
        data.data.edges.forEach(function (v) {            // key = Object.keys(v)[0]

            g.setEdge(v.start, v.end, { label: v.label });
        });
         data.object.nodes.forEach(function (v) {
            g.setNode(v.id, {label: v.label});
        });
        data.object.edges.forEach(function (v) {            // key = Object.keys(v)[0]

            g.setEdge(v.start, v.end, { label: v.label });
        });
        g.nodes().forEach(function (v) {
            console.log("Node " + v + ": " + JSON.stringify(g.node(v)));
        });
        g.edges().forEach(function (e) {
            console.log("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(g.edge(e)));
        });
        var viewerWidth = $(document).width();
        var viewerHeight = $(document).height();


        // Create the renderer
        var render = new dagreD3.render();

        // Set up an SVG group so that we can translate the final graph.
        var svg = d3.select("#tree-container").append("svg")
            .attr("width", viewerWidth)
            .attr("height", viewerHeight)
                .attr("class", "overlay"),
            svgGroup = svg.append("g");

        // Run the renderer. This is what draws the final graph.
        render(d3.select("svg g"), g);

        // Center the graph
        var xCenterOffset = (svg.attr("width") - g.graph().width) / 2;
        svgGroup.attr("transform", "translate(" + xCenterOffset + ", 20)");
        svg.attr("height", g.graph().height + 40);



		// Set up zoom support
var zoom = d3.behavior.zoom().on("zoom", function() {
    svgGroup.attr("transform", "translate(" + d3.event.translate + ")" +
                                "scale(" + d3.event.scale + ")");
  });
svg.call(zoom);

        var initialScale = 0.75;
        zoom.translate([(svg.attr("width") - g.graph().width * initialScale) / 2, 20])
            .scale(initialScale)
            .event(svg);
        svg.attr('height', g.graph().height * initialScale + 40);